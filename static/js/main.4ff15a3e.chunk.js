(this["webpackJsonpbook-store"]=this["webpackJsonpbook-store"]||[]).push([[0],{118:function(e,t,a){e.exports=a(236)},235:function(e,t,a){},236:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setBooks",(function(){return b}));var r={};a.r(r),a.d(r,"addToCart",(function(){return k})),a.d(r,"removeFromCart",(function(){return g}));var c={};a.r(c),a.d(c,"setFilter",(function(){return T})),a.d(c,"setSearchQuery",(function(){return w}));var i=a(0),o=a.n(i),l=a(7),u=a.n(l),s=a(16),d=a(10),m=a(14),b=function(e){return{type:"SET_BOOKS",payload:e}},f=a(104),E=a(105),p=a(111),v=a(109),y=a(106),h=a.n(y),O=a(284),j=a(285),k=function(e){return{type:"ADD_TO_CART",payload:e}},g=function(e){return{type:"REMOVE_FROM_CART",payload:e}},C=a(274),_=function(e){var t=e.title,a=e.author,n=e.image,r=e.price,c=e.addToCart,i=e.addedCount;return o.a.createElement("div",{className:"book-card"},o.a.createElement("img",{className:"book-img",src:n,alt:t}),o.a.createElement("div",{className:"book-title"},t),o.a.createElement("div",{className:"book-author"},a),o.a.createElement("div",{className:"book-price"},"\u0426\u0435\u043d\u0430: ",r),o.a.createElement(C.a,{onClick:c.bind(void 0,e),className:"book-button",variant:"contained",color:"primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u0430\u0440\u0437\u0438\u043d\u0443 ",i>0&&"(".concat(i,")")))},R=Object(s.b)((function(e,t){var a=e.cart,n=t.id;return{addedCount:a.items.reduce((function(e,t){return e+(t.id===n?1:0)}),0)}}),(function(e){return Object(d.a)({},Object(m.b)(r,e))}))(_),T=function(e){return{type:"SET_FILTER",payload:e}},w=function(e){return{type:"SET_QUERY",payload:e}},A=a(278),S=a(279),B=a(286),N=function(e){var t=e.setFilter,a=e.filterBy,n=e.searchQuery,r=e.setSearchQuery;return o.a.createElement("div",null,o.a.createElement(A.a,{component:"nav","aria-label":"main mailbox folders"},o.a.createElement(S.a,{button:!0,selected:"All"===a,onClick:t.bind(void 0,"All")},"\u0412\u0441\u0435"),o.a.createElement(S.a,{button:!0,selected:"Price_high"===a,onClick:t.bind(void 0,"Price_high")},"\u0426\u0435\u043d\u0430 (\u0434\u043e\u0440\u043e\u0433\u0438\u0435)"),o.a.createElement(S.a,{button:!0,selected:"Price_low"===a,onClick:t.bind(void 0,"Price_low")},"\u0426\u0435\u043d\u0430 (\u0434\u0435\u0448\u0435\u0432\u044b\u0435)"),o.a.createElement(S.a,{button:!0,selected:"Author"===a,onClick:t.bind(void 0,"Author")},"\u0410\u0432\u0442\u043e\u0440"),o.a.createElement(S.a,null,o.a.createElement(B.a,{value:n,onChange:function(e){return r(e.target.value)},id:"outlined-basic",label:"\u041f\u043e\u0438\u0441\u043a...",variant:"outlined"}))))},x=Object(s.b)((function(e){e.books;return{filterBy:e.filter.filterBy}}),(function(e){return Object(d.a)({},Object(m.b)(c,e))}))(N),F=a(280),P=a(282),Q=a(281),D=a(287),I=a(288),L=a(283),M=function(e){var t=e.totalPrice,a=e.count,n=e.items;return o.a.createElement(F.a,{id:"menu-container",position:"static"},o.a.createElement(Q.a,null,o.a.createElement(P.a,{className:"menu-logo",variant:"h5"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u043d\u0438\u0433"),o.a.createElement(P.a,{className:"menu-counter"},"\u0418\u0442\u043e\u0433\u043e: ",o.a.createElement("b",null,t)),o.a.createElement("div",null,o.a.createElement(D.a,{id:"cart"},o.a.createElement(I.a,{"aria-controls":"panel1a-content",id:"panel1a-header"},o.a.createElement(P.a,null,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 (",o.a.createElement("b",null,a),")")),o.a.createElement(L.a,null,o.a.createElement("ul",{className:"container-cart-items"},n.map((function(e){return function(e){var t=e.title,a=e.removeFromCart,n=e.id;return o.a.createElement("li",{className:"cart-item"},o.a.createElement("span",null,t),o.a.createElement(C.a,{id:"delete-btn",variant:"contained",color:"secondary",onClick:a.bind(void 0,n)},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))}(e)}))))))))},Y=a(107),J=a.n(Y),K=Object(s.b)((function(e){var t=e.cart;return{totalPrice:t.items.reduce((function(e,t){return t.price+e}),0),count:t.items.length,items:J()(t.items,(function(e){return e.id}))}}),(function(e){return Object(d.a)({},Object(m.b)(r,e))}))(M),U=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.setBooks;h.a.get("/books.json").then((function(t){var a=t.data;e(a)}))}},{key:"render",value:function(){var e=this.props,t=e.books,a=e.isReady;return o.a.createElement(O.a,{className:"main-container"},o.a.createElement(K,null),o.a.createElement(j.a,{id:"items-container",container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:10},o.a.createElement(j.a,{item:!0,xs:9},o.a.createElement(j.a,{id:"items-container",container:!0,direction:"row",justify:"center",alignItems:"flex-end",spacing:10},a?t.map((function(e,t){return o.a.createElement(j.a,{key:t,item:!0,xs:4},o.a.createElement(R,e))})):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430")),o.a.createElement(j.a,{item:!0,xs:3},o.a.createElement(x,null))))}}]),a}(i.Component),V=a(54),q=a.n(V),z=function(e,t,a){return function(e,t){switch(t){case"All":return e;case"Price_high":return q()(e,"price","desc");case"Price_low":return q()(e,"price","asc");case"Author":return q()(e,"author","asc");default:return e}}(function(e,t){return e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>=0||e.author.toLowerCase().indexOf(t.toLowerCase())>=0}))}(e,t),a)},G=Object(s.b)((function(e){var t=e.books,a=e.filter;return{books:t.items&&z(t.items,a.searchQuery,a.filterBy),isReady:t.isReady}}),(function(e){return Object(d.a)({},Object(m.b)(n,e))}))(U),H=(a(235),a(108)),W=a.n(H),X={isReady:!1,items:null},Z=a(110),$={items:[]},ee={searchQuery:"",filterBy:"All"},te=Object(m.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS":return Object(d.a)({},e,{items:t.payload,isReady:!0});case"SET_IS_READY":return Object(d.a)({},e,{isReady:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return Object(d.a)({},e,{items:[].concat(Object(Z.a)(e.items),[t.payload])});case"REMOVE_FROM_CART":return Object(d.a)({},e,{items:e.items.filter((function(e){return e.id!==t.payload}))});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER":return Object(d.a)({},e,{filterBy:t.payload});case"SET_QUERY":return Object(d.a)({},e,{searchQuery:t.payload});default:return e}}}),ae=Object(m.d)(te,Object(m.a)(W.a));u.a.render(o.a.createElement(s.a,{store:ae},o.a.createElement(G,null)),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.4ff15a3e.chunk.js.map